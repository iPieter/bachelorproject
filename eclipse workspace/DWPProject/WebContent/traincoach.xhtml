<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="eng" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<ui:composition template="templates/main_layout.xhtml">

	<f:metadata>
		<f:viewParam name="id"
			value="#{traincoachController.currentTrainCoach.id}" />
		<f:viewAction action="#{traincoachController.findTrainCoachById()}" />
	</f:metadata>
	
	<ui:define name="title">Traincoach Manager</ui:define>

	<!-- BREADCRUMB -->
	<ui:define name="breadcrumb">
		<ol class="breadcrumb breadcrumb_extra">
			<li>
				<h:link outcome="index.xhtml">
					<span class="glyphicon glyphicon-home"></span>
				</h:link>
			</li>
			<li>
			<h:link class="active"
					value="#{traincoachController.currentWorkplace.name}"
					outcome="workplace.xhtml?workplace_id=#{traincoachController.currentWorkplace.id}" />
			</li>
			<li>
			<h:link class="active"
					value="#{traincoachController.getCurrentTrainCoach().name}"
					outcome="traincoach.xhtml?id=#{traincoachController.currentTrainCoach.id}" />
			</li>
		</ol>
	</ui:define>
	
	<!-- SIDEBAR CONTENT -->
	<ui:define name="sidebar_content">
		<div class="workplace workplace_active">	
   			
   			<!-- GESELECTEERDE STAANPLAATS -->	
   			<c:set var="workplace" value="#{traincoachController.currentWorkplace}"/>
            <h4>
            	<span class="glyphicon glyphicon-unchecked sidebar_icon"></span>
            	<h:link value="#{workplace.name}" 
            			outcome="workplace.xhtml?workplace_id=#{workplace.id}"/>
            </h4>
            
	       	<!-- WAGONS VAN GESELECTEERDE STAANPLAATS -->
	       	<c:forEach var="traincoach" items="#{workplace.traincoaches}">
	            <div class="traincoach traincoach_active">
	                <h4 class="sidebar_text_traincoach">
	                	<span class="glyphicon glyphicon-unchecked sidebar_icon_traincoach"></span>
	                	<h:link value="#{traincoach.type} - #{traincoach.name}" outcome="traincoach.xhtml?id=#{traincoach.getId()}"/>
	                </h4>
	                <!-- METADATA PER WAGON -->
	                <div class="traincoach_data">
	                    <h5><span class="glyphicon glyphicon-alert sidebar_icon_metadata"></span> Problemen <span class="badge">1</span></h5>
	                    <h5><span class="glyphicon glyphicon-dashboard sidebar_icon_metadata"></span> Sensoren</h5>
	                </div>
	            </div>
			</c:forEach>
		</div>
	</ui:define>

	<!-- MAINVIEW CONTENT -->
	<ui:define name="mainview_content">
		
		<input type="hidden"
			value="#{traincoachController.getCurrentTrainCoach().id}"
			id="current_traincoach" />
		<div class="row">
			<div class="col-sm-10 mainview_panel">
				<div id="graph_options"> 
					<label class="radio-inline"><input type="radio" name="optradio" id="radio_yaw" />Yaw</label> 
					<label class="radio-inline"><input type="radio" name="optradio" id="radio_roll" />Roll</label>
				</div>
				<div class="" id="topleft">
					<h1>Data wordt geladen...</h1>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-5 mainview_panel">
				<div class="mainview_issue row">
					<div class="col-sm-12 text-center issue_bar">
						<button type="button" name="button"
							class="btn btn-danger btn-large" data-toggle="modal"
							data-target="#assignModal">Nieuwe herstelling</button>
					</div>
				</div>
				<c:forEach var="mechanic" items="#{traincoachController.getMechanics()}">
				<div class="mainview_issue row">
					<b class="col-sm-4 dont-break-out">#{mechanic.getName()}</b>
					<div class="col-sm-8">
						<p>Sensors 1 toont een afwijking op z-as</p>
						<p>
							<div class="progress">
								<div class="progress-bar progress-bar-success"
									role="progressbar" aria-valuenow="40" aria-valuemin="0"
									aria-valuemax="100" style="width: 40%">40% Complete</div>
							</div>
						</p>
					</div>
				</div>
				</c:forEach>
			</div>
			<div class="col-sm-5 mainview_panel">
				<div id="map"></div>
			</div>
		</div>

		<div id="assignModal" class="modal fade" role="dialog" tabindex="10">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Nieuwe herstelling</h4>
					</div>
					<div class="modal-body">
						<form class="form-group" action="/" method="post">
							<label for="description">Omschrijving probleem:</label> <br />
							<textarea name="description" rows="8" cols="40"
								class="form-control"></textarea>
							<label for="list_empl">Kies een onderhoudstechnicus:</label> <br />
							<br />
							<div class="container">
								<c:forEach var="mechanic" items="#{traincoachController.getMechanics()}">
									<div class="mainview_issue row">
										<div class="col-sm-1">
											<div class="checkbox">
												<label><input type="checkbox" value="" /></label>
											</div>
										</div>
										<div class="col-sm-3">
											<b>#{mechanic.getName()}</b>
										</div>
										<div class="col-sm-6">
											<p>
												Huidige taak: <em>Inspecteer onderstel vooraan</em>
											</p>
										</div>
									</div>
								</c:forEach>
							</div>
							<button type="button" name="button" class="btn btn-default">Submit</button>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Sluit</button>
					</div>
				</div>

			</div>
		</div>

		<script
			src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"
			type="text/javascript"></script>
		<script src="js/bootstrap.min.js" type="text/javascript"></script>
		<script src="https://code.highcharts.com/highcharts.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>
		<script src="https://unpkg.com/leaflet@1.0.0/dist/leaflet.js"></script>
		<script src="js/underscore-min.js" type="text/javascript"></script>
		<script src="js/extra_javascript.js" type="text/javascript"></script>
	</ui:define>
</ui:composition>
</html>
