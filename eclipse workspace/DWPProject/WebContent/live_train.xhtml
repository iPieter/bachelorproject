<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
>

<ui:composition template="templates/user_layout.xhtml">

	<f:metadata>
		<f:viewParam name="id"
			value="#{liveTrainOverviewController.currentTrainID}"
		/>
		<f:viewAction action="#{liveTrainOverviewController.loadPage()}" />
	</f:metadata>

	<ui:define name="title">Live tracking</ui:define>

	<ui:define name="nav_content">
		<li><a href="index.xhtml">Dashboard</a></li>
		<li class="active"><a href="live_train_overview.xhtml">Live
				Tracking</a></li>
	</ui:define>

	<ui:define name="mainview_content">

		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-12 main_view">
					<input type="hidden" id="sensor_id"
						value="#{liveTrainOverviewController.currentTrainID}"
					/>
					<div class="row">
						<div class="col-sm-7 mainview_panel" id="realtime_chart_yaw">
							<h1>Data wordt geladen...</h1>
						</div>
						<div class="col-sm-4 mainview_panel" id="map_size">
							<h1>Rit info</h1>
							<table class="table">
								<thead></thead>
								<tbody>
									<tr>
										<td>Model</td>
										<td><h:outputText
												value="#{liveTrainOverviewController.currentLSD.traincoach.type}"
											/></td>
									</tr>
									<tr>
										<td>Nummer</td>
										<td><h:outputText
												value="#{liveTrainOverviewController.currentLSD.traincoach.name}"
											/></td>
									</tr>
									<tr>
										<td>Rit</td>
										<td><h:outputText
												value="#{liveTrainOverviewController.currentLSD.track}"
											/></td>
									</tr>
									<tr>
										<td>Huidige snelheid:</td>
										<td id="current_speed">-</td>
									</tr>
									<tr>
										<td>Huidige versnelling:</td>
										<td id="current_accel">-</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-7 mainview_panel" id="realtime_chart_roll">
							<h1>Data wordt geladen...</h1>
						</div>
						<div class="col-sm-4 mainview_panel" id="map_size">
							<div id="map"></div>
						</div>
					</div>

				</div>
			</div>
		</div>

		<div id="loading_modal" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body">
						<div class="progress">
							<div class="progress-bar progress-bar-striped active"
								role="progressbar" aria-valuenow="100" aria-valuemin="0"
								aria-valuemax="100" style="width: 100%" id="modal_progress_div"
							>De gegevens worden geladen, even geduld aub...</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script
			src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"
			type="text/javascript"
		></script>
		<script src="js/bootstrap.min.js" type="text/javascript"></script>
		<script src="https://code.highcharts.com/stock/highstock.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>
		<script src="https://unpkg.com/leaflet@1.0.0/dist/leaflet.js"></script>
		<script src="js/underscore-min.js" type="text/javascript"></script>
		<script src="js/live_train.js" type="text/javascript"></script>
	</ui:define>
</ui:composition>
</html>